(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{17:function(e,n,t){"use strict";var a=t(18),r=t.n(a);n.a=r.a},18:function(e,n,t){e.exports=function(){let e=function(n,t={}){let a=e.factory(n),r=t.target;if(null==a)return;let s=()=>{0!=r&&(e.is.undefined(r)?r=window.document.body:e.is.string(r)&&(r=window.document.querySelector(r)),"replace"==t.method?r.replaceWith(a):"prepend"==t.method?r.prependChild(a):r.appendChild(a))};return"complete"==document.readyState||"interactive"==document.readyState?s():document.addEventListener("DOMContentLoaded",s),a};return e.css=function(n,t={}){return e.insert("head","style",this.css.styles(n),{tag:t.styleTag}),null},e.extend=function(){for(let n of arguments)n.extend(this),e.is.function(n.dependencies)&&n.dependencies(this)},e.extension={lib:{}},e.factory=function(n){let t=e.is,a=e.factory.process;return t.null(n)?null:t.node(n)?n:t.nodelist(n)?a.nodelist(n):t.array(n)?a.array(n):t.object(n)?a.object(n):t.tag(n)?a.tag(n):t.function(n)?a.function(n):t.undefined(n)?a.undefined():a.text(n)},e.insert=function(e,n,t,a={}){let r=a.method||"appendChild",s=window.document.createElement(n);Object.assign(s,a.tag);let o=window.document.querySelector(e);s.innerHTML=t,o[r](s)},e.is={},e.kebab=e=>(e[0].match(/[A-Z]/)?"-":"")+e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),e.tag={},e.throw=function(...e){throw new Error(e)},e.css.styles=function(n){return e.is.string(n)?n:e.css.styles.rules(n)},e.x=e.extension,e.factory.element=function(n){e.is.not.object(n),n={$tag:"span",...n};let t=window.document.createElement(n.$tag);return t.$ax=n,this.element.properties(t)},e.factory.process={},e.is.array=function(e){return e instanceof Array},e.is.boolean=function(e){return"boolean"==typeof e},e.is.class=function(e){return this.function(e)&&"class"===(""+e).slice(0,5)},e.is.false=function(e){return!1===e},e.is.function=function(e){return"function"==typeof e},e.is.node=function(e){return e instanceof Node},e.is.nodelist=function(e){return e instanceof NodeList},e.is.not=new Proxy({},{get:(n,t,a)=>{if(e.is.function(e.is[t]))return n=>!e.is[t](n);console.error(`ax.is does not support .${t}()`)}}),e.is.null=function(e){return null===e},e.is.number=function(e){return"number"==typeof e},e.is.object=function(e){return"object"==typeof e},e.is.promise=function(e){return e instanceof Promise},e.is.string=function(e){return"string"==typeof e},e.is.tag=function(n){return""+e.a.tagProxyFunction==""+n},e.is.true=function(e){return!0===e},e.is.undefined=function(e){return void 0===e},e.tag.proxy={},e.css.styles.rules=function(n,t=[]){return t[0]&&"@"==t[0][0]?e.css.styles.rules.at(n,t):e.is.object(n)?e.css.styles.rules.object(n,t):""},e.factory.element.init=function(n){return e.is.function(n.$ax.$init)&&n.appendChild(e.factory.element({$tag:"script",type:"text/javascript",$html:"(function(){let script=window.document.currentScript;let element=script.parentElement;script.remove();element.$init( element, element.$state );})()"})),n},e.factory.element.properties=function(e){return this.init(this.properties.render(this.properties.events(this.properties.accessors(this.properties.tools(this.properties.define(e))))).$render())},e.factory.process.array=function(n){return e.factory.element({$nodes:n})},e.factory.process.function=function(n){return e.factory(n(e.a,e.x))},e.factory.process.nodelist=function(n){return e.factory.element({$nodes:Array.from(n)})},e.factory.process.object=function(n){return e.factory.element({$tag:"pre",$text:JSON.stringify(n,null,2)})},e.factory.process.tag=e=>e(null),e.factory.process.text=e=>window.document.createTextNode(` ${e} `),e.factory.process.undefined=function(){return e.factory.element({$text:"UNDEFINED",$init:e=>console.warn("Component is undefined:",e)})},e.tag.proxy.attributes=function(e,n={}){let t=(e.match(/^([\w-]+)/)||[])[1],a=(e.match(/\|([\w-]+)/)||[])[1],r=(e.match(/#([\w-]+)/)||[])[1],s=e.match(/\.[\w-]+/g)||[],o=e.match(/\[.*?\]/g)||[];t&&(n.$tag=n.$tag||t),a&&(n.$pseudotag=n.$pseudotag||a),r&&(n.id=n.id||r);for(let e of s)n.class=`${e.replace(".","")} ${n.class||""}`.trim();for(let e of o){let t=e.match(/^\[([\w-]+)\=(.*)\]/);n[t[1]]=JSON.parse(t[2])}return n},e.tag.proxy.component=function(n){return e.is.string(n)?{$text:n}:e.is.array(n)?{$nodes:n}:e.is.null(n)?{}:{$nodes:[n]}},e.tag.proxy.function=function(){let n;if(e.is.object(arguments[0]))n=arguments[0];else{if("!"==arguments[0]){let e=window.document.createElement("div");return e.innerHTML=arguments[1],e.childNodes}n={...e.tag.proxy.attributes(arguments[0],arguments[2]||{}),...e.tag.proxy.component(arguments[1])}}return e.factory.element(n)},e.tag.proxy.shim={get:(n,t)=>(n,a)=>e.tag.proxy.function(t,n,a)},e.css.styles.rules.at=function(e,n){let t=n.shift(),a=this.rules(e,n);return a="\t"+a.split("\n").join("\n\t"),`${t} {\n${a}\n}\n\n`},e.css.styles.rules.object=function(n,t=[]){let a=e.css.styles.rules.rule(n,t);for(let r of Object.keys(n)){let s=n[r];for(let n of r.split(","))n=n.trim(),n=n.replace(/\|([a-zA-Z0-9-_]+)/,n=>`[data-ax-pseudotag="${e.kebab(n.replace(/^\|/,""))}"]`),n=n.replace(/^([a-zA-Z0-9-_]+)/,n=>e.kebab(n)),a+=e.css.styles.rules(s,t.concat(n))}return a},e.css.styles.rules.rule=function(n,t){var a="";for(let t of Object.keys(n))e.is.not.object(n[t])&&(a+="\t"+e.kebab(t)+": "+n[t]+";\n");return""===a?"":t.join(" ").replace(/\s*&\s*/g,"")+" {\n"+a+"}\n"},e.factory.element.properties.accessors=function(e){return this.accessors.nodes(this.accessors.html(this.accessors.text(this.accessors.on(this.accessors.off(this.accessors.send(this.accessors.state(e)))))))},e.factory.element.properties.define=function(n){for(let t in n.$ax)if(n.$ax.hasOwnProperty(t))if(t[0].match(/[a-zA-Z]/)){let a=n.$ax[t];e.is.not.undefined(a)&&("data"==t?this.define.data(n,a):"style"==t?this.define.style(n,a):this.define.attribute(n,t,a))}else if("$pseudotag"==t)n.dataset.axPseudotag=n.$ax.$pseudotag;else if(!n.$ax.active||!t.match(/^(\$text|\$nodes|\$html|\$state|\$send|\$on|\$off|\$render|\$ax|$events|\$|\$\$)$/)){let a=n.$ax[t];e.is.function(a)?n[t]=a.bind(n):n[t]=a}return n},e.factory.element.properties.events=function(e){e.$events={};for(let n in e.$ax.$on)e.$events[n]=t=>e.$ax.$on[n].call(e,t,e,e.$state),e.addEventListener(n.split(":")[0],e.$events[n]);return e},e.factory.element.properties.render=function(e){let n=this.render;return e.$render=function(){return e.$ax.hasOwnProperty("$text")?n.text(e):e.$ax.hasOwnProperty("$html")?n.html(e):e.$ax.hasOwnProperty("$nodes")?n.nodes(e):e},e},e.factory.element.properties.tools=function(e){return e.$=this.tools.traverse,e.$$=this.tools.query,e},e.a=new Proxy(e.tag.proxy.function,e.tag.proxy.shim),e.factory.element.properties.accessors.html=function(e){let n=this;return Object.defineProperty(e,"$html",{get:function(){return e.$ax.$html},set:function(t){n.html.set(e,t)}}),e},e.factory.element.properties.accessors.nodes=function(e){let n=this;return Object.defineProperty(e,"$nodes",{get:function(){return e.$ax.$nodes},set:function(t){n.nodes.set(e,t)}}),e},e.factory.element.properties.accessors.off=function(e){return e.$off=function(n){e.removeEventListener(n.split(":")[0],e.$events[n]),delete e.$events[n]},e},e.factory.element.properties.accessors.on=function(e){return e.$on=function(n){for(let t in n)e.$off(t),e.$events[t]=a=>n[t].call(e,a,e,e.$state),e.addEventListener(t.split(":")[0],e.$events[t])},e},e.factory.element.properties.accessors.send=function(e){return e.$send=function(n,t={}){return e.dispatchEvent(new CustomEvent(n,{detail:t.detail||{},bubbles:0!=t.bubbles,cancelable:0!=t.cancelable}))},e},e.factory.element.properties.accessors.state=function(e){let n=this;return Object.defineProperty(e,"$state",{get:()=>e.$ax.$state,set:t=>n.state.set(e,t)}),e},e.factory.element.properties.accessors.text=function(e){let n=this;return Object.defineProperty(e,"$text",{get:function(){return e.$ax.$text},set:function(t){n.text.set(e,t)}}),e},e.factory.element.properties.define.attribute=function(n,t,a){e.kebab(t);let r=window.document.createAttribute(t);r.value=a,n.setAttributeNode(r)},e.factory.element.properties.define.data=function(n,t){e.is.object(t)?this.data.attribute(n,["data"],t):this.attribute(n,"data",value)},e.factory.element.properties.define.style=function(n,t){if(e.is.object(t)){let a="";for(let n of Object.keys(t))a+=e.kebab(n)+": "+t[n]+"; ";this.attribute(n,"style",a)}else this.attribute(n,"style",t)},e.factory.element.properties.render.html=function(n){let t=n.$ax.$html;return e.is.function(t)&&(t=t.call(n,n,n.$state)),n.innerHTML=t,n},e.factory.element.properties.render.nodes=function(n){let t=n.$ax.$nodes;for(e.is.function(t)&&(t=t.call(n,n,n.$state));n.firstChild;)n.firstChild.remove();if(e.is.array(t))t.forEach((function(t){null!=(t=e.factory(t))&&n.appendChild(t)}));else{let a=e.factory(t);null!=a&&n.appendChild(a)}return n},e.factory.element.properties.render.text=function(n){let t=n.$ax.$text;for(e.is.function(t)&&(t=t.call(n,n,n.$state));n.childNodes.length;)n.removeChild(n.lastChild);return n.appendChild(window.document.createTextNode(t)),n},e.factory.element.properties.tools.query=function(n){n=n.replace(/\|([\w\-]+)/g,'[data-ax-pseudotag="$1"]');let t=Array.from(this.querySelectorAll(n));return e.factory.element.properties.tools.query.proxy(t)},e.factory.element.properties.tools.traverse=function(...n){let t=this,a=e.factory.element.properties.tools.traverse;return n.forEach((function(r){if(e.is.array(r))t=t.$(...r);else if(/,\s*/.test(r)){let e,n=r.split(/,\s*/);for(let r in n)if(e=a.select(t,n[r]),e)break;t=e}else/^\S+$/.test(r)?t=a.select(t,r):(n=r.match(/(\S+)/g),t=t.$(...n))})),t},e.factory.element.properties.accessors.html.set=function(e,n){return delete e.$ax.$text,delete e.$ax.$nodes,e.$ax.$html=n,e.$render(),e},e.factory.element.properties.accessors.nodes.set=function(e,n){return delete e.$ax.$text,delete e.$ax.$html,e.$ax.$nodes=n,e.$render(),e},e.factory.element.properties.accessors.state.set=function(e,n){return e.$ax.$state,e.$ax.$state=n,e.$ax.$update?e.$ax.$update.call(e,e,n)&&e.$render():e.$render(),e},e.factory.element.properties.accessors.text.set=function(e,n){return delete e.$ax.$html,delete e.$ax.$nodes,e.$ax.$text=n,e.$render(),e},e.factory.element.properties.define.data.attribute=function(n,t,a){const r=e.factory.element.properties.define;if(e.is.string(a)){let e=t.join("-");r.attribute(n,e,a)}else for(let s of Object.keys(a))e.kebab(s),r.data.attribute(n,t.concat(s),a[s])},e.factory.element.properties.tools.query.proxy=function(e,n=[]){return new Proxy((function(){}),this.proxy.shim(e,n))},e.factory.element.properties.tools.traverse.select=function(e,n){return n=n.replace(/\|([\w\-]+)/g,'[data-ax-pseudotag="$1"]'),e?/^\s*\^/.test(n)?(n=n.replace(/^\s*\^\s*/,""))?e.closest(n):e.parentElement:/^\s*$/.test(n)?e:e.querySelector(n):null},e.factory.element.properties.tools.query.proxy.shim=function(n,t){return{get:e.factory.element.properties.tools.query.proxy.shim.get(n,t),set:e.factory.element.properties.tools.query.proxy.shim.set(n,t),apply:e.factory.element.properties.tools.query.proxy.shim.apply(n,t)}},e.factory.element.properties.tools.query.proxy.shim.apply=function(n,t){return function(a,r,s){return n.forEach((function(e,a){n[a]=t[a].call(e,...s)})),e.factory.element.properties.tools.query.proxy(n)}},e.factory.element.properties.tools.query.proxy.shim.get=function(n,t){return function(a,r,s){return/^\d+$/.test(r)?n[r]:/^\$\$$/.test(r)||/^toArray$/.test(r)?n:/^forEach$/.test(r)?e=>n.forEach(e):/^toString$/.test(r)?()=>n.toString():(n.forEach((function(a,s){let o=a[r];e.is.undefined(o)?console.error(`Ax query for '${r}' is undefined on:`,a):e.is.function(o)?t[s]=o:n[s]=o})),e.factory.element.properties.tools.query.proxy(n,t))}},e.factory.element.properties.tools.query.proxy.shim.set=function(e,n){return function(n,t,a,r){return e.forEach((function(e){e[t]=a})),!0}},e}()},3:function(e,n,t){"use strict";t.r(n);t(293),t(297),t(298),t(299);var a=(e,n,t={})=>(a,r)=>{var s=[a.span(null,{class:e})];n&&(t.compact||s.push(" "),s.push(n)),t.reverse&&s.reverse();let o={style:{whiteSpace:"nowrap"},...t.iconTag};return a["app-icon"](s,o)};var r=(e,n={})=>(t,a)=>t["div.pb-2"](app.playground(e,n));var s=(e={})=>(n,t)=>n["app-modal"](n["div.modal"](n["div.modal-dialog"](n["div.modal-content"]),{tabindex:-1}),{id:e.id||"modal",$open:function(e={}){this.$(".modal-dialog").className="modal-dialog modal-"+(e.size||"md"),this.$(".modal-content").$nodes=[n["div.modal-header"]([n[".modal-title"](e.title||null),n["button.close"](n("&times;"),{data:{dismiss:"modal"}})]),n["div.modal-body"](e.body||null),e.footer?n["div.modal-footer"](e.footer||null):null],$(this.$(".modal")).modal({backdrop:"static"})}}),o=t(300),i=t.n(o),c=t(301),l=t.n(c),d=t(302),u=t.n(d),p=t(303),f=t.n(p);t(304);i.a.registerLanguage("xml",l.a),i.a.registerLanguage("javascript",u.a),i.a.registerLanguage("shell",f.a);var x=(e,n)=>(t,a)=>a.markedjs.markdown({...n,markdown:e,markedjs:{highlight:function(e,n){return i.a.highlight(n,e).value}}});const m=e=>n=>(t,a)=>t["div.container"]([m.for(n,e)]);m.for=(e,n)=>(t,a)=>{let r;r=n.match(/^docs\/.+$/)?app.Docs[n.replace("docs/","")]:app.Docs.readme;let s="MARKDOWN",o=[],i=r.split(/<\!--(MARKDOWN|PLAYGROUND|README-ONLY)-->\n/)||[];for(let e in i)if(e%2==0){if("MARKDOWN"===s)o.push(app.mdUNSAFE(i[e]));else if("PLAYGROUND"===s){let n=i[e].match(/(?:.|\n)*~~~javascript\n((?:.|\n)*)\n~~~/)[1];o.push(app.example(n))}}else s=i[e];return t["app-markdown-page"](o,{$on:{click:n=>{if(n.target.classList.contains("app-navigation")){n.preventDefault();let t=n.target.attributes.href.value.replace(/\.[^/.]+$/,"");"/docs/index"==t&&(t="/docs"),e.open(t)}}}})};var h=m;t(17).a.css({"app-playground":{display:"block",".CodeMirror":{width:"100%",height:"unset",minHeight:"2em",border:"1px solid #ddd",borderRadius:"unset",padding:"unset",fontFamily:"monospace"},iframe:{minHeight:"200px",height:"calc(100% - 46px)",width:"100%",border:"1px solid #007bff"}}});t(160),t(306);var g=(e,n={})=>`<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>Ax playground</title>\n<meta http-equiv="X-UA-Compatible" content="IE=edge">\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<link rel="icon" href="favicon.png" type="image/png">\n<script type="application/javascript" src="/vendors~main~playground.js"><\/script>\n<script type="application/javascript" src="/playground.js"><\/script>\n\n<script>\nwindow.render = () => {\n  console.time("Render timer");\n  eval(${JSON.stringify(e)});\n  console.timeEnd("Render timer");\n}\nwindow.onload = function (msg, url, line) {\n  loading.remove();\n}\nwindow.onerror = function (msg, url, line) {\n  document.body.innerHTML +=\n  \`<pre id="consoleErrors" class="text-danger text-wrap">\${msg}</pre>\`;\n}\n<\/script>\n</head>\n<body>\n<i id="loading">Loading</i>\n</body>\n</html>`;var b={example:r,icon:a,mdUNSAFE:x,modal:s,page:h,playground:(e,n={})=>(t,a)=>t({$tag:"app-playground",class:"clearfix",$nodes:()=>[t({$tag:"textarea",$text:e,$init:e=>{e.$codemirror=a.codemirror.CodeMirror.fromTextArea(e,{lineNumbers:!0})}}),t["div.btn-group.p-1.float-right"]([t({$tag:"button",class:"btn btn-primary",$nodes:[app.icon("fa fa-play")],$on:{click:(e,t)=>{let a=t.$("^app-playground textarea").$codemirror.getValue(),r=t.$("^app-playground app-playground-iframe-wrapper");r.$render();let s=r.$("iframe").$render();s.classList.remove("d-none");let o=s.contentDocument;o.body.innerHTML="",o.write(g(a,n)),o.close(),r.getBoundingClientRect().bottom>window.innerHeight&&r.scrollIntoView()}}}),t({$tag:"button",class:"btn btn-outline-primary",$nodes:[app.icon("fa fa-stop")],$on:{click:(e,n)=>{n.$("^app-playground iframe").classList.add("d-none")}}}),t({$tag:"button",class:"btn btn-outline-primary",$nodes:[app.icon("fa fa-undo")],$on:{click:(e,n)=>{let t=n.$("^app-playground");t.$render(),t.$(".btn-group").scrollIntoView()}}})]),t["app-playground-iframe-wrapper"](t.iframe(null,{class:"d-none"}))]})},y=e=>(n,t)=>n["nav#navbar.navbar.navbar-expand-md.navbar-light.bg-white.mx-n2.mt-n1"]([n.a(n.img(null,{src:"/logo.png",width:100,height:57,class:"app-navbar-brand-icon"}),{class:"navbar-brand",href:"#",$on:{click:(n,t)=>{n.preventDefault(),e.open("/")}}}),n.button(n({class:"navbar-toggler-icon"}),{class:"navbar-toggler mb-4",data:{toggle:"collapse",target:"#navbarCollapse"}}),n.div(n.ul([n.li(n.a("Home",{class:"nav-link",href:"#",$on:{click:(n,t)=>{n.preventDefault(),e.open("/")}}}),{class:"nav-item",data:{path:"/"}}),n.li(n.a("Docs",{class:"nav-link",href:"#",$on:{click:(n,t)=>{n.preventDefault(),e.open("/docs")}}}),{class:"nav-item",data:{path:"/docs"}})],{class:"navbar-nav mr-auto mb-4"}),{id:"navbarCollapse",class:"collapse navbar-collapse"})],{$activate:function(){this.$$(".nav-item.active").classList.remove("active");let e=location.pathname.split("/")[1],n=this.$(`[data-path="/${e}"]`);n&&n.classList.add("active")}});t(307);var v=e=>(e,n)=>[e({$text:"Hello, world!",class:"greeting"}),e["!"]("<h1>Raw HTML</h1>"),n.codemirror({value:"let msg = 'Hello';\nalert(msg);",mode:"ruby"}),n.form({object:{string:"hello",select:"beta",textarea:"It was the best of times,\nit was the worst of times...",one:{number:42,email:"mail@example.com"},country:"AU"},action:"/test",shims:[n.form.field.shim,n.form.field.extras.shim,n.form.field.dependent.shim,n.form.field.nest.shim,n.form.field.nest.prefab.shim,n.bootstrap.form.shim,n.form.async.shim],encode:"json",form:e=>[e.field({key:"string"}),e.field({key:"select",as:"select",selections:["alpha","beta","gamma","delta"]}),e.field({key:"one",as:"one",form:e=>[e.field({key:"number",type:"number"}),e.field({key:"email",type:"email"})]}),e.field({key:"textarea",as:"textarea"}),e.field({key:"country",as:"country"}),e.submit()]}),n.fetch({url:"https://jsonplaceholder.typicode.com/todos",placeholder:"Loading Todos.",success:(n,t)=>t.$nodes=n.map(n=>e.p(n.title))})];window.app={main:(e,n)=>e["app-router"]([n.router({routes:e=>[y(e),e.nest({routes:{"/test/?":v,"/?":app.page("index"),"/docs/?":app.page("docs/index"),"/docs/*":e=>app.page("docs/"+e.splat[0])(e)}})],transition:n.transition.fade()})],{$on:{"ax.appkit.router.load":(e,n)=>{n.$("#navbar").$activate()}}}),css:{".error":{color:"red"},blockquote:{color:"#666",borderLeft:"2px solid #666",paddingLeft:"10px"},".greeting":{color:"blue"}},...b};var w;app.Docs=(w=t(308),Object.assign(...w.keys().map(e=>{let n={};return n[e.match(/\.\/((?:\w|\/|\-)+)\.md/)[1]]=w(e).default,n}))),app.Docs.readme='Ax\n==\n\nAx is for creating reactive components and single page applications in JavaScript.\n\nThe Ax core library is concerned with DOM rendering and updating. Other features are provided by extensions.\n\nAx Framework (NPM package `axf`) includes a selection of extensions for building forms and reports, client-side routing and XHR/fetching.\n\nQuick start\n-----------\n~~~html\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <script src="https://cdn.jsdelivr.net/npm/axf/axf.js" ><\/script>\n</head>\n<body>\n  <script>\n    ax.css({h1: {color: \'blue\'}});\n    ax((a, x) => a({\n      $state: 10,\n      $nodes: (el) => [\n        a.h1(el.$state),\n        a.button("⯇", {$on: {click: () => {el.$state--}}}),\n        a.button("⯈", {$on: {click: () => {el.$state++}}}),\n      ]\n    }));\n  <\/script>\n</body>\n</html>\n~~~\n\nUsage\n-----\nSee the <a class="app-navigation" href="/docs/index.md">Docs</a>.\n\n\x3c!--README-ONLY--\x3e\nThis Repo\n=========\n\n1. The development files for Ax in `packages/src/`\n2. Pre-built Ax packages for distribution in `packages/dist/`\n3. The Ax website in `web/`\n\nRun Website\n-----------\n\n```console\ncd web\nnpm i\nwebpack -p\n```\n\nServe the `/web/` directory.\n\n\nWebsite Dev\n-----------\n\n`npm run dev`\n\nBuild Packages\n--------------\n\n`gulp` to run a development webserver with auto-rebuild of /dist.\n`gulp build` to build /dist without publishing.\n`gulp publish` to build /dist and publish all packages to NPM.\n\n\x3c!--MARKDOWN--\x3e\n<hr>\n<a href="https://github.com/engines/Ax"><i class="fab fa-github"></i></a>\n';n.default=app},308:function(e,n,t){var a={"./ax.md":309,"./ax/elements.md":310,"./ax/init.md":311,"./ax/introduction.md":312,"./index.md":313,"./installation.md":314,"./integration.md":315,"./packages/ax-appkit-xtermjs.md":316,"./packages/ax.md":317,"./usage.md":318};function r(e){var n=s(e);return t(n)}function s(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=308},309:function(e,n,t){"use strict";t.r(n),n.default="\x3c!--NAVIGATION--\x3e\n<a class=\"app-navigation\" href=\"/docs/index.md\">Index</a>\n\n\x3c!--MARKDOWN--\x3e\nCall `ax()` to render content.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax('Hello, world!')\n~~~\n\x3c!--MARKDOWN--\x3e\n\nUse `ax.css()` for styling.\n\nPass `ax()` a function to access the Tag Builder and Extensions Object, which are here assigned as `a` and `x `.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax.css({'#output h3': {color: 'blue'}});\n\nlet pet = {\n  type: 'dog',\n  name: 'Spike'\n}\n\nax((a, x) => [\n  x.form({\n    shims: [\n      x.form.field.shim,\n      x.form.async.shim\n    ],\n    object: pet,\n    action: '/test',\n    encode: 'json',\n    form: (f) => [\n      f.field({key: 'type', as: 'select', selections: {'cat': 'Cat', 'dog': 'Dog'}}),\n      f.field({key: 'name', required: true}),\n      f.submit(),\n    ],\n    success: (result, el) => {\n      output.$nodes = [\n        'Response from server:',\n        result,\n        a.h3(`${result.name} is a ${result.type}.`)\n      ]\n    }\n  }),\n  a({id: 'output'}),\n]);\n~~~\n\x3c!--MARKDOWN--\x3e\n"},310:function(e,n,t){"use strict";t.r(n),n.default="\x3c!--NAVIGATION--\x3e\n<a class=\"app-navigation\" href=\"/docs/index.md\">Index</a>\n\x3c!--MARKDOWN--\x3e\n\nTo create elements call the Tag Builder with attributes. Specify content with `$text`, `$nodes`, and `$html` keys. The nodename is set with `$tag`; if unset it defaults to `span`.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => a({$nodes: [\n  a({$tag: 'h1', $text: 'Heading'}),\n  a({$text: 'TEXT'}),\n  a({$tag: 'hr'}),\n  a({$html: '<strong>HTML</strong>'}),\n]}))\n~~~\n\x3c!--MARKDOWN--\x3e\n\nAlternatively, use shorthand syntax, where an **array** is an element with child nodes and **text** is a textnode.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => ['Hello,', 'world!'])\n~~~\n\x3c!--MARKDOWN--\x3e\n\nShorthand for the Tag Builder\n~~~javascript\na(nodespec, component, attributes)\na[nodespec](component, attributes)\n~~~\nWhere a nodespec is like `'h1#anId.aClass.anotherClass[attibute=\"value\"]'`.\n\nUse the `!` method as shorthand for rendering raw HTML.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => [\n  a.h1('Heading'),\n  'TEXT',\n  a.hr,\n  a['!']('<strong>HTML</strong>'),\n])\n~~~\n\x3c!--MARKDOWN--\x3e\n\nFive `<p class=\"abc\">` elements.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => [\n  a({$tag: 'p', $text: 'one', class: 'abc'}),\n  a.p('two', {class: 'abc'}),\n  a['p.abc']('three'),\n  a('p', 'four', {class: 'abc'}),\n  a('p.abc', 'five'),\n]);\n~~~\n\x3c!--MARKDOWN--\x3e\n\nA form.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => a.form( [\n  a['input[name=\"score\"][type=\"number\"]'],\n  a['button[type=\"submit\"]']('Submit'),\n], {action: '/test', method: 'POST'}));\n~~~\n\x3c!--MARKDOWN--\x3e\n\nCreate dynamic content by setting `$text`, `$nodes`, or `$html` as a function. New content can be rendered by calling `$render`.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => a({\n  id: 'random',\n  $tag: 'h1',\n  $text: Math.random,\n}));\nsetInterval(random.$render, 100)\n~~~\n\x3c!--MARKDOWN--\x3e\n"},311:function(e,n,t){"use strict";t.r(n),n.default='\x3c!--NAVIGATION--\x3e\n<a class="app-navigation" href="/docs/index.md">Index</a>\n\x3c!--MARKDOWN--\x3e\n\nSpecify an `$init` function and it will be called when the element is first rendered.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => a({\n  $tag: \'h1\',\n  $init: (el) => setInterval(el.$render, 1000),\n  $text: () => (new Date).toLocaleTimeString(),\n}))\n~~~\n\x3c!--MARKDOWN--\x3e\n'},312:function(e,n,t){"use strict";t.r(n),n.default="<a class=\"app-navigation\" href=\"/docs/index.md\">Index</a>\n\nCall `ax()` to render content.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax('Hello, world!')\n~~~\n\x3c!--MARKDOWN--\x3e\n\nPass `ax()` a function to access the Tag Builder and Extensions Object, which are assigned as `a` and `x ` in the examples here.\n\nTo create elements call the Tag Builder with attributes. Specify content with `$text`, `$nodes`, and `$html` keys. The nodename is set with `$tag`; if unset it defaults to `span`.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => a({$nodes: [\n  a({$tag: 'h1', $text: 'Heading'}),\n  a({$text: 'TEXT'}),\n  a({$tag: 'hr'}),\n  a({$html: '<strong>HTML</strong>'}),\n]}))\n~~~\n\x3c!--MARKDOWN--\x3e\n\nAlternatively, use shorthand syntax, where an **array** is an element with child nodes and **text** is a textnode.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => ['Hello,', 'world!'])\n~~~\n\x3c!--MARKDOWN--\x3e\n\nShorthand for the Tag Builder\n~~~javascript\na(nodespec, component, attributes)\na[nodespec](component, attributes)\n~~~\nWhere a nodespec is like `'h1#anId.aClass.anotherClass[attibute=\"value\"]'`.\n\nUse the `!` method as shorthand for rendering raw HTML.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => [\n  a.h1('Heading'),\n  'TEXT',\n  a.hr,\n  a['!']('<strong>HTML</strong>'),\n])\n~~~\n\x3c!--MARKDOWN--\x3e\n\nFive `<p class=\"abc\">` elements.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => [\n  a({$tag: 'p', $text: 'one', class: 'abc'}),\n  a.p('two', {class: 'abc'}),\n  a['p.abc']('three'),\n  a('p', 'four', {class: 'abc'}),\n  a('p.abc', 'five'),\n]);\n~~~\n\x3c!--MARKDOWN--\x3e\n\nUse `ax.css()` for styling.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => a.form( [\n  a['input[name=\"score\"][type=\"number\"]'],\n  a['button[type=\"submit\"]']('Submit'),\n], {action: '/test', method: 'POST'}));\n~~~\n\x3c!--MARKDOWN--\x3e\n\nSpecify an `$init` function and it will be called when the element is first rendered.\n\nCreate dynamic content by setting `$text`, `$nodes`, or `$html` as a function. New content can be rendered by calling `$render`.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a, x) => a({\n  $tag: 'h1',\n  $init: (el) => setInterval(el.$render, 1000),\n  $text: () => (new Date).toLocaleTimeString(),\n}))\n~~~\n\x3c!--MARKDOWN--\x3e\n\nGive an element `$state` and when it changes the element will re-render.\n\nEvent handlers can be set using `$on`.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a({\n  $state: 10,\n  $nodes: (el) => [\n    a.h1(el.$state),\n    a.button(\"⯇\", {$on: {click: () => {el.$state--}}}),\n    a.button(\"⯈\", {$on: {click: () => {el.$state++}}}),\n  ]\n}))\n~~~\n\x3c!--MARKDOWN--\x3e\n\nSpecify an `$update` function and it will be called when `$state` changes but before content is rendered. Return `true` to proceed to render, and `false` to not render.\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => [\n  a({\n    $tag: 'button',\n    $state: 0,\n    $text: (el) => el.$state,\n    $on: {click: (e,el) => el.$state++},\n    $update: (el) => {\n      if (el.$state < 3) {\n        message.$text = `${3 - el.$state} more to go!`\n        return false\n      } else {\n        message.$text = 'That is enough, thanks.'\n        return true\n      }\n    },\n  }),\n  a({\n    id: 'message',\n    $tag: 'h3',\n    $text: 'Please click the button three times.'\n  })\n])\n~~~\n\x3c!--MARKDOWN--\x3e\n"},313:function(e,n,t){"use strict";t.r(n),n.default='Ax Documentation\n================\n\n\x3c!--NAVIGATION--\x3e\n<a class="app-navigation" href="/docs/installation.md">Installation</a>\n<br>\n<a class="app-navigation" href="/docs/integration.md">Integration</a>\n<br>\n<a class="app-navigation" href="/docs/ax.md">Ax Function</a>\n\n<br>\n<ul>\n<li><a class="app-navigation" href="/docs/packages/ax.md">ax</a></li>\n</ul>\n'},314:function(e,n,t){"use strict";t.r(n),n.default='\x3c!--NAVIGATION--\x3e\n<a class="app-navigation" href="/docs/index.md">Index</a>\n\n\x3c!--MARKDOWN--\x3e\nAx Installation\n===============\n\nNPM\n---\n\n```shell\nnpm i axf\n```\n\nCDN\n---\n'},315:function(e,n,t){"use strict";t.r(n),n.default='\x3c!--NAVIGATION--\x3e\n<a class="app-navigation" href="/docs/index.md">Index</a>\n\n\x3c!--MARKDOWN--\x3e\nIntegration\n===========\n'},316:function(e,n,t){"use strict";t.r(n),n.default='\x3c!--NAVIGATION--\x3e\n<a class="app-navigation" href="/docs/index.md">Index</a>\n\n\x3c!--MARKDOWN--\x3e\nax-appkit-xtermjs\n=================\n'},317:function(e,n,t){"use strict";t.r(n),n.default="\x3c!--NAVIGATION--\x3e\n<a class=\"app-navigation\" href=\"/docs/index.md\">Index</a>\n\n\x3c!--MARKDOWN--\x3e\nax\n==\n\nInvoke Ax\n---------\n\nAx is invoked by calling its nominal function:\n~~~javascript\nax(component, options)\n~~~\n\nThe _component_ is parsed by Ax to create an HTML element with content. Valid Ax components are:\n * **function** - that returns another component when called.\n * **element**, **node** - rendered as is.\n * **array**, **nodelist** - collection of components.\n * **object** - rendered as pretty JSON.\n * **null** - render nothing.\n * **string**, **anything else** - rendered as text.\n\nWhen a component is a function, the component is called with two arguments, the **Tag Builder** and the **Extensions Object**.  It is common to refer to the Tag Builder and Extension Object arguments as `a` and `x`.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => 'Hello, world!')\n~~~\n\x3c!--MARKDOWN--\x3e\nTag Builder\n-----------\n\nUse the Tag Builder to create arbitrary HTML elements.\n\nThe Tag Builder can can be called as a function, in which case it accepts a string or an object.\nA string is consumed as HTML.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a('<h1>Raw HTML</h1>'))\n~~~\n\x3c!--MARKDOWN--\x3e\nAn object is consumed as an attributes object.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a({\n  $tag: 'h1',\n  $text: 'This is a heading.',\n  class: 'app-heading',\n}))\n~~~\n\x3c!--MARKDOWN--\x3e\nThe Tag Builder is furnished with a proxy for creating arbitrary HTML elements. It is invoked with a nodename:\n~~~javascript\na[nodename](component, attributes)\n~~~\nFor example, to create `<h1>` and `<p class=\"contrast\">` tags:\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => [\n  a.h1('This is a heading.'),\n  a.p('This is a paragraph.', {class: 'contrast'}),\n])\n~~~\n\x3c!--MARKDOWN--\x3e\n\nThe Tag Builder proxy can be invoked with a string containing a nodename, id, and classes.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a({\n  $nodes: () => [\n    a['button#startButton.btn.btn-primary[name=\"start\"]']('Start', {\n      $on: {\n        click: (e,el) => el.$('^').$render()\n      }\n    }),\n    a.p((new Date).toLocaleTimeString(), {\n      $init: (el) => x.lib.animate.fade.in(el, {duration: 500}),\n      style: {display: 'none'},\n    }),\n  ]\n}))\n~~~\n\x3c!--MARKDOWN--\x3e\n\nThe _attributes_ argumant is optional, but must be an object if provided. Ax applies attributes to the element when the element is created. _attributes_ comprise **Tag Attributes**, **Ax Attributes** and **Custom Attributes**.  Key names starting with `$` are Ax Attributes and Custom Attributes. More on these below.\n\nExtensions\n----------\n\nThe Extensions Object provides access to features that are provided by any **Ax Extensions** included in the document. Here a form builder extension provides a `x.form(options)` method:\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => [\n  a.h3('Sign in'),\n  x.form({\n    action: '/session',\n    form: f => [\n      f.input({name: 'username'}),\n      f.input({name: 'password', type: 'password'}),\n      f.submit(),\n    ]\n  }),\n])\n~~~\n\x3c!--MARKDOWN--\x3e\n\nTag Attributes\n--------------\n\nHTML tag attributes, are mapped to attributes on the element. For example, define attribute `class: 'border-2'` and the element will have an attribute of `class=\"border-2\"`.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a.div({class: 'border-2'}, 'A box'))\n~~~\n\x3c!--MARKDOWN--\x3e\n\nAx Attributes\n-------------\n\nAx Attributes are:\n* `$tag` {string} _nodename_ for the element, with default `<span>`.\n* `$nodes` {(array|function)} collection of components for the element.\n* `$text` {(string|function)} plain text content for the element.\n* `$html` {(string|function)} html content for the element.\n* `$state` {(object|literal)} data used in rendering content.\n* `$update` {function} called when $state changes.\n* `$init` {function} called once the element is rendered.\n* `$on` {object} event handlers for the element.\n\nEach element created by Ax has its Ax Attributes applied to methods on the element for controlling the element and its content.\n* `$text` get/set methods for changing text content.\n* `$html` get/set methods for changing html content.\n* `$nodes` get/set methods for changing nodes content.\n* `$state`  get/set methods for changing element state.\n* `$render` method for populating an element with content.\n* `$events` storage of event handlers.\n* `$on` method for adding event handlers.\n* `$off` method for removing event handlers.\n* `$send` method for sending event from an element.\n* `$` the Traversal Tool method for selecting another element.\n* `$$` the Query Tool method for selecting and manipulating collections of other elements.\n* `$ax` storage of the current state of the Ax Attributes for an element.\n\n##Updating content\n\nThe `$text`, `$html`, `$nodes` and `$state` properties are defined with setters that, when invoked, will trigger the element `$update` and `$render` method.\n\n\nThe `$render` method applies a `$text`, `$html` or `$nodes` content property to generate DOM elements.\n\nIn this example the $text function is called when the element is rendered, and each time the `$render` method is called on the element.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a({\n  $tag: 'h1',\n  $text: () => (new Date).toLocaleTimeString(),\n  $init: el => setInterval(el.$render, 1000),\n}))\n~~~\n\x3c!--MARKDOWN--\x3e\n\n\nNew content can be rendered by using the `$text`, `$html` and `$nodes` setters:\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a['#myEl'])\n// Then\nmyEl.$text = 'New content'\n// or\nmyEl.$nodes = [\n  a.h1('New'),\n  a.p('content'),\n]\n~~~\n\x3c!--MARKDOWN--\x3e\n\nAlternatively, use `$state` in collaboration with a content function.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a({\n  id: 'myEl',\n  $state: 'on',\n  $text: el => `I am ${el.$state}.`\n}))\n// Then\nmyEl.$state = 'off'\n~~~\n\x3c!--MARKDOWN--\x3e\n\n\nFunctions defined on `$text`, `$html` and `$nodes` are called, with the element itself as an argument, when the element is rendered and whenever the element state changes.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a({\n  $state: 10,\n  $nodes: el => [\n    a.h1(el.$state),\n    a.button(\"⯇\", {$on: {click: () => {el.$state--}}}),\n    a.button(\"⯈\", {$on: {click: () => {el.$state++}}}),\n  ]\n}))\n~~~\n\x3c!--MARKDOWN--\x3e\n\nThe `$update` function is called when the `$state` property changes. Use `$update` to manage data bindings and trigger state-dependent behaviour. If `$update` is not specified, the `$render` method will be called and the content will be refreshed by reapplying the relevant object content property. If `$update` is specified, the `$render` method will be called only if `$update()` returns `true`.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a({\n  $tag: 'button',\n  $text: (el) => el.$state ? 'Clicked' : 'Unclicked',\n  $on: { click: (e,el) => el.$state = !el.$state },\n  $update: (el) => {\n    setTimeout( el.$render, 500)\n    return false\n  },\n}))\n~~~\n\x3c!--MARKDOWN--\x3e\n\nCustom Attributes\n-----------------\n\nAny other attributes that start with `$` are Custom Attributes, which are added to the element, as custom properties, when the element is created. When Custom Attributes are functions, the element is bound to the function when its associated custom property is defined on the element. Use a regular function, as opposed to an arrow function, to access the element with `this` within the scope of the function.\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax((a,x) => a.({\n  $tag: 'h1',\n  $init: el => setInterval(el.$tick, 1000),\n  $tick: function() {\n    this.$text = (new Date).toLocaleTimeString()\n  },\n}))\nax((a, x) => a({\n  $tag: 'h1',\n  $init: el => setInterval(el.$render, 1000),\n  $text: () => (new Date).toLocaleTimeString(),\n}))\nax((a,x) => a({\n  $nodes: ['*******'],\n  style: {\n    opacity: 0,\n    transition: `opacity 2s linear`\n  },\n  $init: (el) => setTimeout( () => el.style.opacity = 1, 1000),\n}))\n\n~~~\n\x3c!--MARKDOWN--\x3e\n"},318:function(e,n,t){"use strict";t.r(n),n.default='<a class="app-navigation" href="/docs/index.md">Index</a>\n\nAx\n==\n\n\x3c!--PLAYGROUND--\x3e\n~~~javascript\nax(\'Hello, world!\')\n~~~\n\x3c!--MARKDOWN--\x3e\n\nContent\n-------\n\nCall `ax()` with content and it will be rendered to the DOM.\n\nEG(hello_world)\n\nNormally `ax()` is called with a function as an argument. The function is, in turn, called with two arguments: a Tag Builder and an Extensions Object. These are often assigned as `a` and `x `.\n\n\n\nEG(tag_builder)\n\n\n\n\n\nEG(hello_world2)\n\n\nThe Extensions Object is used to access Ax extensions, such as routers, form builders, and transitions.\n\nEG(form)\n\nState\n-----\n\n\n\n\nEG(counter)\n\n\nAx Function Usage\n=================\n\n\nEG(counter)\n\n\n\nRender text.\n\nEG(hello_world)\n\nGive Ax a content function and it will be called with two arguments:\n- Tag Builder, and\n- Extensions Object.\n\nIt is canonical to assign these as `a` and `x`.\n\nUse the Tag Builder to create arbitrary HTML elements.\n\nEG(tag_builder -t)\n\nThe Extensions Object provides access to features that are provided by any **Ax Extensions** included in the document.\n\nHere a form builder extension provides a `x.form(options)` method:\n\nEG(form)\n\nEG(chart)\n'}}]);